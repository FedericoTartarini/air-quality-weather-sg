(this["webpackJsonpair-quality-sg-react"]=this["webpackJsonpair-quality-sg-react"]||[]).push([[15],{273:function(e,a,t){"use strict";t.r(a);var n=t(18),l=t(0),r=t.n(l),c=t(15),o=t(66),s=t(85),m=t(83),i=t(8);var d=function(e){var a=e.dataPSI,t=e.locationUser,n=e.pollutant,l=null;if((t.error||a.error)&&(l=r.a.createElement("div",null,"Could not fetch API")),(t.loading||a.loading)&&(l=r.a.createElement("div",{className:"container mx-auto"},r.a.createElement(c.a,null))),t.data&&a.data&&0!==a.data.items.length){var d=Object(o.b)(a.data,t.data).name,u=Object(o.e)(d,a.data);l=r.a.createElement("div",{className:"p-4 w-1/2 md:mb-0 mb-6 flex flex-col text-center items-center"},r.a.createElement("div",{className:"w-20 h-20 inline-flex items-center justify-center rounded-full mb-3 flex-shrink-0"},r.a.createElement(s.a,{icon:Object(o.h)(u[n],n).icon,size:"3x",color:Object(o.h)(u[n],n).color})),r.a.createElement("div",{className:"flex-grow"},r.a.createElement(i.b,{to:Object(o.d)(n)},r.a.createElement("h2",{className:"text-lg title-font font-medium mb-3"},Object(o.g)(n,!0),":"," ",r.a.createElement("sup",null,r.a.createElement(s.a,{icon:m.h})))),r.a.createElement("h2",{className:"text-3xl title-font font-medium mb-3"},u[n],"pm25_one_hourly"===n?r.a.createElement("span",{className:"text-sm"}," ","\xb5g/m",r.a.createElement("sup",null,"3")):""),r.a.createElement("p",{className:"leading-relaxed text-base"},Object(o.h)(u[n],n).description)))}return r.a.createElement(r.a.Fragment,null,l)};var u=function(e){var a=e.dataFor2H,t=e.dataFor24H,n=e.locationUser,l=e.station,s="";if(a.error||t.error||n.error)s=r.a.createElement("p",{className:"p-5"},"data.gov.sg is under maintenance and we could not download the current weather forecasts. Please try again later. Sorry for the inconvenience.");else if(a.loading||t.loading||n.loading)s=r.a.createElement(c.a,null);else if(a.data&&t.data&&n.data){var m,i,d;0===Object.entries(a.data.items[0]).length?(m="next 6-h weather forecast",i=t.data.items[0].periods[0].regions[l],d=Object(o.c)(i)):(m="next 2-hour weather forecast",i=Object(o.j)(a.data,Object(o.b)(a.data,n.data).name),d=Object(o.c)(i)),s=r.a.createElement("div",null,r.a.createElement("p",{className:"text-base leading-relaxed xl:w-2/4 lg:w-3/4 mx-auto"},m,": ",i),r.a.createElement("img",{className:"h-12 w-full object-contain my-3",src:d,alt:"current weather forecast icon"}))}return s};var x=function(e){var a=e.dataTmp,t=e.dataRH,n=e.locationUser,l=null;return a.error||t.error||n.error?l="":a.loading&&t.loading&&n.loading?l=r.a.createElement(c.a,null):a.data&&t.data&&n.data&&(l=r.a.createElement("div",null,r.a.createElement("div",{className:"flex my-3 justify-center"},r.a.createElement("div",{className:"w-16 h-1 rounded-full bg-gray-400 inline-flex"})),r.a.createElement("div",{className:"text-base leading-relaxed py-1 xl:w-2/4 lg:w-3/4 mx-auto"},r.a.createElement(i.b,{to:"/weather-singapore"},"Temperature:"," ",r.a.createElement("span",null,Object(o.i)(a.data,n.data)),"\xb0C")),r.a.createElement("div",{className:"text-base leading-relaxed py-1 xl:w-2/4 lg:w-3/4 mx-auto"},r.a.createElement(i.b,{to:"/weather-singapore"},"Relative humidity:"," ",r.a.createElement("span",null,Object(o.i)(t.data,n.data)))))),r.a.createElement(r.a.Fragment,null,l)};a.default=function(e){var a=e.dataPSI,t=e.dataTmp,c=e.dataRH,f=e.dataFor2H,E=e.dataFor24H,b=e.dataPM25,g=e.locationUser,p=e.RequestedUseLocation,h=e.showRequestLocButton,v=Object(l.useState)("central"),y=Object(n.a)(v,2),w=y[0],N=y[1];return Object(l.useEffect)((function(){var e="";f.data&&g.data&&a.data&&(void 0===(e=Object(o.b)(f.data,g.data).name)&&(e=Object(o.b)(a.data,g.data).name),N(e))}),[f,a,g]),r.a.createElement("div",{className:"container mx-auto my-3 flex px-5 items-center justify-center shadow-lg border rounded"},r.a.createElement("section",{className:"text-gray-700 body-font flex-grow"},r.a.createElement("div",{className:"container px-5 py-5 mx-auto"},r.a.createElement("div",{className:"text-center my-3"},r.a.createElement("p",{className:"text-base leading-relaxed xl:w-2/4 lg:w-3/4 mx-auto"},"Closest weather station:"," ",r.a.createElement("span",{className:"capitalize"},w))),r.a.createElement("div",{className:"container flex mx-auto justify-center"+(h?"":" hidden")},r.a.createElement("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:function(){p()}},"Use my location",r.a.createElement("span",{className:"ml-2"},r.a.createElement(s.a,{icon:m.b})))),r.a.createElement("div",{className:"flex my-3 justify-center"},r.a.createElement("div",{className:"w-16 h-1 rounded-full bg-gray-400 inline-flex"})),r.a.createElement("div",{className:"flex flex-wrap content-between sm:-m-4 -mx-4 my-3"},r.a.createElement(d,{dataPSI:a,locationUser:g,pollutant:"psi_twenty_four_hourly"}),r.a.createElement(d,{dataPSI:b,locationUser:g,pollutant:"pm25_one_hourly"})),r.a.createElement("div",{className:"text-center my-5"},r.a.createElement(x,{dataTmp:t,dataRH:c,locationUser:g}),r.a.createElement(i.b,{to:"/weather-forecast-singapore"},r.a.createElement(u,{locationUser:g,dataFor2H:f,dataFor24H:E,station:w}))))))}}}]);
//# sourceMappingURL=15.e6bdbeb8.chunk.js.map