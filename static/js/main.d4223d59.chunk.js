(this["webpackJsonpair-quality-sg-react"]=this["webpackJsonpair-quality-sg-react"]||[]).push([[3],{20:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("div",{className:"loader"}))}},21:function(e,t,a){e.exports=a.p+"static/media/logo192.9a9969a0.png"},37:function(e,t,a){e.exports=a.p+"static/media/unhealthy-day.f7b35dae.jpg"},38:function(e,t,a){e.exports=a(67)},43:function(e,t,a){},66:function(e,t,a){e.exports=a.p+"static/media/weather.142c15bd.jpg"},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),o=a.n(l),i=(a(43),a(9)),c=a(8),s=a(21);var m=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return r.a.createElement("nav",{className:"container mx-auto flex items-center justify-between flex-wrap p-6"},r.a.createElement(c.b,{to:"/"},r.a.createElement("div",{className:"flex items-center flex-shrink-0"},r.a.createElement("img",{src:s,alt:"logo website",width:50}),r.a.createElement("span",{className:"font-semibold text-xl tracking-tight ml-3 w-40"},"Air Quality and Weather - SG"))),r.a.createElement("div",{className:"block xl:hidden"},r.a.createElement("button",{className:"flex items-center px-3 py-2 border rounded hover:text-gray-700 hover:border-white",type:"button",onClick:function(){return n(!a)}},r.a.createElement("svg",{className:"fill-current h-3 w-3",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Menu"),r.a.createElement("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})))),r.a.createElement("div",{className:"w-full block flex-end xl:flex xl:items-center xl:w-auto"+(a?"":" hidden"),onClick:function(){return n(!a)}},r.a.createElement("div",{className:"text-sm xl:flex-grow"},r.a.createElement(c.b,{to:"/"},r.a.createElement("span",{className:"block mt-4 xl:inline-block xl:mt-0 hover:text-gray-600 ml-4"},"Home")),r.a.createElement(c.b,{to:"/charts"},r.a.createElement("span",{className:"block mt-4 xl:inline-block xl:mt-0 hover:text-gray-600 ml-4"},"Charts")),r.a.createElement(c.b,{to:"/forecast"},r.a.createElement("span",{className:"block mt-4 xl:inline-block xl:mt-0 over:text-gray-600 ml-4"},"Forecast")),r.a.createElement(c.b,{to:"/mapPollution"},r.a.createElement("span",{className:"block mt-4 xl:inline-block xl:mt-0 over:text-gray-600 ml-4"},"Map Pollution")),r.a.createElement(c.b,{to:"/about"},r.a.createElement("span",{className:"block mt-4 xl:inline-block xl:mt-0 over:text-gray-600 ml-4"},"About")))))},u=a(13),d=a(12),h=a(21);var f=function(){return r.a.createElement("footer",{className:"text-gray-900 body-font absolute w-full"},r.a.createElement("div",{className:"container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col"},r.a.createElement("span",{className:"flex title-font font-medium items-center md:justify-start justify-center"},r.a.createElement("img",{src:h,alt:"logo",width:40}),r.a.createElement("div",null,r.a.createElement("p",{className:"ml-3 text-xl"},"Air Quality and Weather"),r.a.createElement("p",{className:"text-xs ml-3"},"v 0.0.1"))),r.a.createElement("p",{className:"text-sm sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-gray-200 sm:py-2 sm:mt-0 mt-4"},"\xa9 2020",r.a.createElement("a",{href:"https://federicotartarini.github.io",className:"ml-1",rel:"noopener noreferrer",target:"_blank"},"Federico Tartarini")),r.a.createElement("span",{className:"inline-flex text-gray-700 sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start"},r.a.createElement("a",{className:"mx-1",href:"https://www.linkedin.com/in/federico-tartarini-3991995b/","aria-label":"LinkedIn"},r.a.createElement(d.a,{icon:u.c,size:"lg"})),r.a.createElement("a",{className:"mx-1",href:"https://github.com/FedericoTartarini","aria-label":"GitHub"},r.a.createElement(d.a,{icon:u.a,size:"lg"})),r.a.createElement("a",{className:"mx-1",href:"https://www.researchgate.net/profile/Federico_Tartarini","aria-label":"Researchgate"},r.a.createElement(d.a,{icon:u.d,size:"lg"})),r.a.createElement("a",{className:"mx-1",href:"https://play.google.com/store/apps/details?id=com.airqualityapp","aria-label":"GooglePlay"},r.a.createElement(d.a,{icon:u.b,size:"lg"})))))},g=a(34),p=a.n(g);function b(e){var t=Object(n.useState)({loading:!1,data:null,error:!1}),a=Object(i.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){l({loading:!0,data:null,error:!1}),console.log("Requesting API data: "+e),p.a.get(e).then((function(e){l({loading:!1,data:e.data,error:!1})})).catch((function(){l({loading:!1,data:null,error:!0})}))}),[e.split(":")[1]]),r}var v=a(2),E=a(20),x=a(14);var w=function(){return r.a.createElement("section",{className:"text-gray-700 body-font"},r.a.createElement(x.a,null,r.a.createElement("title",null,"PM25"),r.a.createElement("meta",{name:"description",content:"This page provides information about the Particular Matter (PM) 2.5 1-hour readings."})),r.a.createElement("div",{className:"container mx-auto flex flex-col px-5 py-8 justify-center items-center"},r.a.createElement("img",{className:"mb-8 object-cover object-center rounded-sm shadow-lg",alt:"Particular Matter (PM) 2.5",src:a(37)}),r.a.createElement("div",{className:"w-full flex flex-col mb-16 items-center text-center"},r.a.createElement("h1",{className:"text-3xl mb-4 font-medium text-gray-900"},"1-hour Particular Matter 2.5 \xb5m (PM",r.a.createElement("sub",null,"2.5"),")"),r.a.createElement("p",{className:"mb-8 leading-relaxed"},"The 1-hr PM",r.a.createElement("sub",null,"2.5")," concentration is the average concentration of PM",r.a.createElement("sub",null,"2.5"),", in micrograms per cubic metre (\xb5g/m3), measured in the air over the past hour. The National Environment Agency in Singapore reports PM",r.a.createElement("sub",null,"2.5")," concentrations for five locations across the country. During the haze episodes, the NEA recommends to refer to 1-hour PM",r.a.createElement("sub",null,"2.5")," concentration readings which are a better indicator of the current outdoor air pollution for immediate activities. For example going out for a run or a walk. On the other hand, the Pollutant Standards Index (PSI) values are based on the last 24-h data consequently PSI readings are more useful when planning for activities in the coming days or events during which participants will be outdoors for an extended period of time."),r.a.createElement("p",{className:"mb-8 leading-relaxed"},"The NEA calculates classifies the concentrations of 1-hr PM",r.a.createElement("sub",null,"2.5"),' in four categories as follows: "normal", "elevated", "high" and "very high" and for each category provides health recommendations.'))))};var y=function(){return r.a.createElement("section",{className:"text-gray-700 body-font"},r.a.createElement(x.a,null,r.a.createElement("title",null,"Weather"),r.a.createElement("meta",{name:"description",content:"This page provides information about where the API that was used to download the temperature and relative humidity data"})),r.a.createElement("div",{className:"container mx-auto flex flex-col px-5 py-8 justify-center items-center"},r.a.createElement("img",{className:"mb-8 object-cover object-center rounded-sm shadow-lg",alt:"cloud, moon and sky",src:a(66)}),r.a.createElement("div",{className:"w-full flex flex-col mb-16 items-center text-center"},r.a.createElement("h1",{className:"text-3xl mb-4 font-medium text-gray-900"},"Weather data"),r.a.createElement("p",{className:"mb-8 leading-relaxed"},"The National Environment Agency (NEA) in Singapore provides Application Programming Interfaces (API)s that can be used to download weather data at 1-minute intervals. The following data ara available temperature, relative humidity, precipitations and wind conditions for a total of 64 weather stations across Singapore."),r.a.createElement("p",{className:"leading-relaxed"},"To find out more visit the"," ",r.a.createElement("a",{href:"https://data.gov.sg/dataset/realtime-weather-readings"},"Data.gov.sg")," ","official website"))))},N=Object(n.lazy)((function(){return a.e(10).then(a.bind(null,245))})),k=Object(n.lazy)((function(){return a.e(8).then(a.bind(null,246))})),P=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(2),a.e(0),a.e(7)]).then(a.bind(null,251))})),j=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(2),a.e(0),a.e(12)]).then(a.bind(null,249))})),S=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(0),a.e(11)]).then(a.bind(null,248))})),O=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(5),a.e(0),a.e(9)]).then(a.bind(null,250))}));var A=function(){var e=(new Date).getTimezoneOffset();e-=480+e;var t=new Date(Date.now()-6e4*e).toISOString().substr(0,19),a="https://api.data.gov.sg/v1/environment/relative-humidity?date_time="+t,l="https://api.data.gov.sg/v1/environment/air-temperature?date_time="+t,o="https://api.data.gov.sg/v1/environment/2-hour-weather-forecast?date_time="+t,s="https://api.data.gov.sg/v1/environment/24-hour-weather-forecast?date_time="+t;if("00"===t.split("T")[1].split(":")[0]){var u=(new Date).getTimezoneOffset();u-=360+u,t=new Date(Date.now()-6e4*u).toISOString().substr(0,19)}var d=t.split("T")[0],h="https://api.data.gov.sg/v1/environment/pm25?date="+d,g=b("https://api.data.gov.sg/v1/environment/psi?date="+d),p=b(l),x=b(a),A=b(h),T=b(o),I=b(s),M=Object(n.useState)({loading:!1,data:{accuracy:2678,altitude:null,altitudeAccuracy:null,heading:null,latitude:1.3271039999999998,longitude:103.841792,speed:null},error:!1}),W=Object(i.a)(M,2),z=W[0],q=W[1],H=Object(n.useState)(!0),R=Object(i.a)(H,2),D=R[0],F=R[1];function U(e){q({loading:!1,data:e.coords,error:!1})}function _(e){switch(e.code){case e.PERMISSION_DENIED:alert("You denied the request for Geolocation.\nPlease allow us to access your location if you want to see the data for your current location.");break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.\nWe are assuming you are in the center of Singapore");break;case e.TIMEOUT:alert("The request to get user location timed out.\nWe are assuming you are in the center of Singapore");break;case e.UNKNOWN_ERR:alert("An unknown error occurred.\nWe are assuming you are in the center of Singapore");break;default:alert("An unknown error occurred.\nWe are assuming you are in the center of Singapore")}}Object(n.useEffect)((function(){try{navigator.permissions.query({name:"geolocation"}).then((function(e){"granted"===e.state?(C(),F(!1)):console.log("permission not granted")}))}catch(e){}}),[t]);var L={enableHighAccuracy:!0,timeout:3e3,maximumAge:0};function C(){navigator.geolocation?navigator.geolocation.getCurrentPosition(U,_,L):alert("Geolocation is not supported by this browser")}return r.a.createElement(c.a,{basename:"/air-quality-weather-sg"},r.a.createElement("div",{className:"relative pb-10 min-h-screen"},r.a.createElement(m,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement(E.a,null)},r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/"},r.a.createElement(S,{dataPSI:g,dataTmp:p,dataRH:x,dataFor2H:T,dataFor24H:I,dataPM25:A,locationUser:z,RequestedUseLocation:C,showRequestLocButton:D})),r.a.createElement(v.a,{path:"/charts"},r.a.createElement(O,{data:g,locationUser:z})),r.a.createElement(v.a,{path:"/forecast"},r.a.createElement(j,{dataFor2H:T,dataFor24H:I})),r.a.createElement(v.a,{path:"/mapPollution"},r.a.createElement(P,{data:g})),r.a.createElement(v.a,{path:"/about"},r.a.createElement(N,null)),r.a.createElement(v.a,{path:"/psi"},r.a.createElement(k,null)),r.a.createElement(v.a,{path:"/pm25"},r.a.createElement(w,null)),r.a.createElement(v.a,{path:"/weather"},r.a.createElement(y,null)))),r.a.createElement("div",null,r.a.createElement(f,null))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):t&&t.onSuccess&&t.onSuccess(e))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(A,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/air-quality-weather-sg",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/air-quality-weather-sg","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):I(t,e)}))}}()}},[[38,4,6]]]);
//# sourceMappingURL=main.d4223d59.chunk.js.map