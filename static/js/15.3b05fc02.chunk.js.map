{"version":3,"sources":["Components/MajorPollutants.js","Components/CurrentForecast.js","Components/CurrentValue.js","Components/CurrentReadings.js"],"names":["MajorPollutants","dataPSI","locationUser","pollutant","content","error","loading","className","Loader","data","items","length","stationName","ClosestStation","name","latestReading","GetLatestReading","icon","PollutantClass","size","color","to","GetHelpURL","MapNamePollutants","faQuestionCircle","description","Fragment","CurrentForecast","dataFor2H","dataFor24H","station","text","stringForecast","iconSource","Object","entries","periods","regions","ForecastToIcon","TwoHForecastsAtUserLocation","src","alt","CurrentValue","dataTmp","dataRH","ReadingAtUserLocation","CurrentReadings","dataPM25","RequestedUseLocation","showRequestLocButton","useState","setStation","useEffect","value","undefined","onClick","faCrosshairs"],"mappings":"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","file":"static/js/15.3b05fc02.chunk.js","sourcesContent":["import React from \"react\";\nimport Loader from \"./Loader\";\nimport {\n  ClosestStation,\n  GetLatestReading,\n  MapNamePollutants,\n  PollutantClass,\n  GetHelpURL,\n} from \"../Functions/Utils\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\n\nfunction MajorPollutants({ dataPSI, locationUser, pollutant }) {\n  let content = null;\n\n  if (locationUser.error || dataPSI.error) {\n    content = <div>Could not fetch API</div>;\n  }\n\n  if (locationUser.loading || dataPSI.loading) {\n    content = (\n      <div className=\"container mx-auto\">\n        <Loader />\n      </div>\n    );\n  }\n\n  if (locationUser.data && dataPSI.data && dataPSI.data.items.length !== 0) {\n    const stationName = ClosestStation(dataPSI.data, locationUser.data).name;\n\n    const latestReading = GetLatestReading(stationName, dataPSI.data);\n\n    content = (\n      <div className=\"p-4 w-1/2 md:mb-0 mb-6 flex flex-col text-center items-center\">\n        <div className=\"w-20 h-20 inline-flex items-center justify-center rounded-full mb-3 flex-shrink-0\">\n          <FontAwesomeIcon\n            icon={PollutantClass(latestReading[pollutant], pollutant).icon}\n            size={\"3x\"}\n            color={PollutantClass(latestReading[pollutant], pollutant).color}\n          />\n        </div>\n        <div className=\"flex-grow\">\n          <Link to={GetHelpURL(pollutant)}>\n            <h2 className=\"text-lg title-font font-medium mb-3\">\n              {MapNamePollutants(pollutant, true)}:{\" \"}\n              <sup>\n                <FontAwesomeIcon icon={faQuestionCircle} />\n              </sup>\n            </h2>\n          </Link>\n          <h2 className=\"text-3xl title-font font-medium mb-3\">\n            {latestReading[pollutant]}\n            {pollutant === \"pm25_one_hourly\" ? (\n              <span className=\"text-sm\">\n                {\" \"}\n                µg/m<sup>3</sup>\n              </span>\n            ) : (\n              \"\"\n            )}\n          </h2>\n          <p className=\"leading-relaxed text-base\">\n            {PollutantClass(latestReading[pollutant], pollutant).description}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return <React.Fragment>{content}</React.Fragment>;\n}\n\nexport default MajorPollutants;\n","import React from \"react\";\nimport {\n  ClosestStation,\n  ForecastToIcon,\n  TwoHForecastsAtUserLocation,\n} from \"../Functions/Utils\";\nimport Loader from \"./Loader\";\n\nfunction CurrentForecast({ dataFor2H, dataFor24H, locationUser, station }) {\n  let content = \"\";\n  if (dataFor2H.error || dataFor24H.error || locationUser.error) {\n    content = (\n      <p className=\"p-5\">\n        data.gov.sg is under maintenance and we could not download the\n        current weather forecasts. Please try again later. Sorry for the inconvenience.\n      </p>\n    );\n  } else if (dataFor2H.loading || dataFor24H.loading || locationUser.loading) {\n    content = <Loader />;\n  } else if (dataFor2H.data && dataFor24H.data && locationUser.data) {\n    let text;\n    let stringForecast;\n    let iconSource;\n\n    if (Object.entries(dataFor2H.data.items[0]).length === 0) {\n      text = \"next 6-h weather forecast\";\n      stringForecast = dataFor24H.data.items[0].periods[0].regions[station];\n      iconSource = ForecastToIcon(stringForecast);\n    } else {\n      text = \"next 2-hour weather forecast\";\n      stringForecast = TwoHForecastsAtUserLocation(\n        dataFor2H.data,\n        ClosestStation(dataFor2H.data, locationUser.data).name\n      );\n      iconSource = ForecastToIcon(stringForecast);\n    }\n\n    content = (\n      <div>\n        <p className=\"text-base leading-relaxed xl:w-2/4 lg:w-3/4 mx-auto\">\n          {text}: {stringForecast}\n        </p>\n        <img\n          className=\"h-12 w-full object-contain my-3\"\n          src={iconSource}\n          alt=\"current weather forecast icon\"\n        />\n      </div>\n    );\n  }\n\n  return content;\n}\n\nexport default CurrentForecast;\n","import React from \"react\";\nimport Loader from \"./Loader\";\nimport { ReadingAtUserLocation } from \"../Functions/Utils\";\nimport { Link } from \"react-router-dom\";\n\nfunction CurrentValue({ dataTmp, dataRH, locationUser }) {\n  let content = null;\n\n  if (dataTmp.error || dataRH.error || locationUser.error) {\n    content =\n      // <p className=\"p-5\">\n      //   data.gov.sg is under maintenance and we could not download the\n      //   current weather conditions. Please try again later. Sorry for the inconvenience.\n      // </p>\n      \"\";\n  } else if (dataTmp.loading && dataRH.loading && locationUser.loading) {\n    content = <Loader />;\n  } else if (dataTmp.data && dataRH.data && locationUser.data) {\n    content = (\n      <div>\n        <div className=\"flex my-3 justify-center\">\n          <div className=\"w-16 h-1 rounded-full bg-gray-400 inline-flex\" />\n        </div>\n        <div className=\"text-base leading-relaxed py-1 xl:w-2/4 lg:w-3/4 mx-auto\">\n          <Link to=\"/weather-singapore\">\n            Temperature:{\" \"}\n            <span>\n              {ReadingAtUserLocation(dataTmp.data, locationUser.data)}\n            </span>\n            °C\n          </Link>\n        </div>\n        <div className=\"text-base leading-relaxed py-1 xl:w-2/4 lg:w-3/4 mx-auto\">\n          <Link to=\"/weather-singapore\">\n            Relative humidity:{\" \"}\n            <span>{ReadingAtUserLocation(dataRH.data, locationUser.data)}</span>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return <React.Fragment>{content}</React.Fragment>;\n}\n\nexport default CurrentValue;\n","import React, { useState, useEffect } from \"react\";\nimport MajorPollutants from \"./MajorPollutants\";\nimport { ClosestStation } from \"../Functions/Utils\";\nimport CurrentForecast from \"./CurrentForecast\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCrosshairs } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport CurrentValue from \"./CurrentValue\";\n\nfunction CurrentReadings({\n  dataPSI,\n  dataTmp,\n  dataRH,\n  dataFor2H,\n  dataFor24H,\n  dataPM25,\n  locationUser,\n  RequestedUseLocation,\n  showRequestLocButton,\n}) {\n  const [station, setStation] = useState(\"central\");\n\n  useEffect(() => {\n    let value = \"\";\n    if (dataFor2H.data && locationUser.data && dataPSI.data) {\n      value = ClosestStation(dataFor2H.data, locationUser.data).name;\n      if (value === undefined) {\n        value = ClosestStation(dataPSI.data, locationUser.data).name;\n      }\n      setStation(value);\n    }\n  }, [dataFor2H, dataPSI, locationUser]);\n\n  return (\n    <div className=\"container mx-auto my-3 flex px-5 items-center justify-center shadow-lg border rounded\">\n      <section className=\"text-gray-700 body-font flex-grow\">\n        <div className=\"container px-5 py-5 mx-auto\">\n          <div className=\"text-center my-3\">\n            <p className=\"text-base leading-relaxed xl:w-2/4 lg:w-3/4 mx-auto\">\n              Closest weather station:{\" \"}\n              <span className=\"capitalize\">{station}</span>\n              {/*  todo print Novena, Juron, etc. not west, east. Get the info from location metadata */}\n              {/*  todo allow user to select a station */}\n            </p>\n          </div>\n\n          <div\n            className={\n              \"container flex mx-auto justify-center\" +\n              (showRequestLocButton ? \"\" : \" hidden\")\n            }\n          >\n            <button\n              className=\"bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\"\n              onClick={() => {\n                RequestedUseLocation();\n              }}\n            >\n              Use my location\n              <span className=\"ml-2\">\n                <FontAwesomeIcon icon={faCrosshairs} />\n              </span>\n            </button>\n          </div>\n          {/* horizontal line */}\n          <div className=\"flex my-3 justify-center\">\n            <div className=\"w-16 h-1 rounded-full bg-gray-400 inline-flex\" />\n          </div>\n          <div className=\"flex flex-wrap content-between sm:-m-4 -mx-4 my-3\">\n            {/* show also AQI */}\n            <MajorPollutants\n              dataPSI={dataPSI}\n              locationUser={locationUser}\n              pollutant={\"psi_twenty_four_hourly\"}\n            />\n            <MajorPollutants\n              dataPSI={dataPM25}\n              locationUser={locationUser}\n              pollutant={\"pm25_one_hourly\"}\n            />\n          </div>\n          <div className=\"text-center my-5\">\n            <CurrentValue\n              dataTmp={dataTmp}\n              dataRH={dataRH}\n              locationUser={locationUser}\n            />\n            <Link to={\"/weather-forecast-singapore\"}>\n              <CurrentForecast\n                locationUser={locationUser}\n                dataFor2H={dataFor2H}\n                dataFor24H={dataFor24H}\n                station={station}\n              />\n            </Link>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default CurrentReadings;\n"],"sourceRoot":""}