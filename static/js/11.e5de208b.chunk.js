(this["webpackJsonpair-quality-sg-react"]=this["webpackJsonpair-quality-sg-react"]||[]).push([[11],{238:function(e,t,a){"use strict";a.r(t);var r=a(10),o=a(0),n=a.n(o),l=a(140),d=a(18),i=a(64);var s=function(e){var t,a=e.data,r=e.pollutants,o=e.stationName,s=e.footNote,c=window,m=c.innerWidth;c.innerHeight,console.log(m),t=m>500?150:250;var u={labels:["January","February","March","April","May","June","July"],datasets:[{label:"PSI",fill:!1,lineTension:.1,borderColor:"rgb(116, 111, 117)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgb(116, 111, 117)",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgb(116, 111, 117)",pointHoverBorderColor:"#ddd",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,40]},{label:"PSI",fill:!1,lineTension:.1,borderColor:"rgb(30,145,214)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgb(30,145,214)",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgb(30,145,214)",pointHoverBorderColor:"#ddd",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,40]},{label:"PSI",fill:!1,lineTension:.1,borderColor:"#6a197d",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#6a197d",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#6a197d",pointHoverBorderColor:"#ddd",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,40]}]},p=null;return a.error&&(p=n.a.createElement("div",null,"Could not fetch API")),a.loading&&(p=n.a.createElement(d.a,null)),a.data&&(u.labels=a.data.items.map((function(e){return e.timestamp.split("T")[1].split(":")[0]})),r.map((function(e,t){u.datasets[t].data=a.data.items.map((function(t){return t.readings[e][o]})),u.datasets[t].label=Object(i.f)(e,!1)})),p=n.a.createElement("div",{className:"container mx-auto my-3 p-4 shadow-lg border rounded"},n.a.createElement(l.a,{data:u,options:{responsive:!0,scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Hour"},ticks:{major:{fontStyle:"bold",fontColor:"#FF0000"}}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Sub-index value"}}]}},height:t}),s.map((function(e){return n.a.createElement("p",{className:"text-xs text-center text-gray-800"},e)})))),n.a.createElement("div",null,p)};var c=function(e){return n.a.createElement("div",{className:"flex mx-auto justify-center py-3"},n.a.createElement("table",{className:"table-auto text-center"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"px-4 py-2"},"Sub-Index value"),n.a.createElement("th",{className:"px-4 py-2"},"Description"))),n.a.createElement("tbody",null,n.a.createElement("tr",{className:"text-green-600 font-medium"},n.a.createElement("td",{className:"border px-4 py-2"},"0 - 50"),n.a.createElement("td",{className:"border px-4 py-2"},"Good")),n.a.createElement("tr",{className:"text-blue-600 font-medium"},n.a.createElement("td",{className:"border px-4 py-2"},"51 - 100"),n.a.createElement("td",{className:"border px-4 py-2"},"Moderate")),n.a.createElement("tr",{className:"text-yellow-600 font-medium"},n.a.createElement("td",{className:"border px-4 py-2"},"101 - 200"),n.a.createElement("td",{className:"border px-4 py-2"},"Unhealthy")),n.a.createElement("tr",{className:"text-orange-600 font-medium"},n.a.createElement("td",{className:"border px-4 py-2"},"201 - 300"),n.a.createElement("td",{className:"border px-4 py-2"},"Very Unhealthy")),n.a.createElement("tr",{className:"text-red-600 font-medium"},n.a.createElement("td",{className:"border px-4 py-2"},"Above 300"),n.a.createElement("td",{className:"border px-4 py-2"},"Hazardous")))))},m=a(11),u=a(74);var p=function(e){var t=e.selected,a=e.listItems,l=e.setValue,d=Object(o.useState)(!1),i=Object(r.a)(d,2),s=i[0],c=i[1];function p(e){var t=e.item;return n.a.createElement("span",{className:"block py-1 px-8 hover:bg-gray-200 capitalize",onClick:function(){c(!s),l(t)}},t)}return n.a.createElement("div",{className:"relative"},n.a.createElement("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:function(){return c(!s)}},n.a.createElement("span",{className:"capitalize mx-2"},t),n.a.createElement(m.a,{icon:u.a})),n.a.createElement("div",{className:"bg-gray-100 absolute right-0 rounded mt-1 py-1 text-center shadow-md"+(s?"":" hidden")},a.map((function(e){return n.a.createElement(p,{item:e})}))))},b=a(67);t.default=function(e){var t=e.data,a=e.locationUser,l=Object(o.useState)(!1),m=Object(r.a)(l,2),u=m[0],y=m[1];Object(o.useEffect)((function(){a.data&&t.data&&y(Object(i.a)(t.data,a.data).name)}),[t.data,a.data]);var h="";return t.error&&(h=n.a.createElement("div",null,"Could not fetch API")),t.loading&&(h=n.a.createElement(d.a,null)),a.data&&t.data&&u&&(h=n.a.createElement("div",{className:"container mx-auto py-3"},n.a.createElement(b.a,null,n.a.createElement("title",null,"Historical pollution data"),n.a.createElement("meta",{name:"description",content:"This page shows you the pollutants concentrations over the last 24 hours."})),n.a.createElement("div",{className:"flex justify-center content-center"},n.a.createElement("p",{className:"py-2 mr-2"},"Pollution last 24-h. Station:"),n.a.createElement(p,{selected:u,listItems:["north","south","central","east","west"],setValue:y})),n.a.createElement(s,{data:t,pollutants:["pm10_sub_index","pm25_sub_index","no2_one_hour_max"],stationName:u,footNote:["* computed on 24-hour average Particulate Matter (PM) 10 reading (\xb5g/m3)","** computed on 24-hour average Particulate Matter (PM) 2.5 reading (\xb5g/m3)"]}),n.a.createElement(s,{data:t,pollutants:["o3_sub_index","co_sub_index","so2_sub_index"],stationName:u,footNote:["* computed based on 8-hour average Ozone reading (\xb5g/m3)","** computed on 8-hour average Carbon Monoxide (CO) reading(mg/m3)","*** computed on 24-hour average Sulphur Dioxide (SO2) reading (\xb5g/m3)"]}),n.a.createElement(c,null))),h}}}]);
//# sourceMappingURL=11.e5de208b.chunk.js.map